# random-article
**项目采用 ES Modules 模块规范: package.json 中配置一下type: module**
## 目录介绍
1. corpus存放语料库文件
  - json 文件，文件名 data.json。
    - title 表示文章的主题
    - famous 表示名人名言
    - bosh_before 表示废话的前置分句，
    - bosh 表示废话的主体，
    - conclude 表示结论，
    - said 是名人名言中可选的文字片段。
2. index.js 是项目主文件，是一个可以运行的 Node.js 脚本。
3. lib目录下是项目依赖的库文件，
  一个是 generator.js 模块，用来生成文章内容，
  另一个是random.js随机模块，用来提供随机算法。

4. package.json是项目的配置文件。
5. output存放项目输入结果

---

*语料库中的数据是基础语料内容,生成文章时，我们需要读取这些内容，从中随机选择一些句子进行拼接*

## 实现功能如下：
1. 读取语料库并解析；
2. 随机选取语料的随机算法；
3. 字符串模板的参数替换；
4. 文章内容的拼装；
5. 生成文章输出。

* 如果再考虑到用户交互，我们还要完成：

6. 接收命令行输入的参数；
7. 提供给用户命令行使用指引；
8. 输出文本内容的格式和存储。

## 对应的技术点如下：

1. 利用 fs 模块读取语料库文件内容；
2. 实现一个随机模块，提供符合要求的随机算法；
3. 使用正则表达式和字符串模板替换以及字符串拼接，完成文章生成；
4. 使用 process.argv 接收用户参数，根据参数输出不同内容；
5. 利用 fs 模块、二进制模块，将生成的文本内容保存成文本和图片格式

## 相关API介绍
- 读取文件的内容用到两个 API：
  - readFile 异步地读取文件内容
    - Buffer 对象，表示文件的二进制数据内容。
      - 想要将二进制内容转变成文本信息，有两个做法。
        - 直接调用 data 的 toString 方法，传入utf-8
        - readFile方法中多传一个参数：{encoding: 'utf-8'}
  - readFileSync 同步地读取文件内容


## 自定义标题
node index.js --min 100 --min 200 --foo bar --title

## 检查用户输入
因为 Node.js 内置的 process 模块无法方便地检查用户的输入，
所以我们需要使用三方库command-line-args 替代 process.argv，它不仅能获得用户的输入，还能检测用户的输入是否正确。

## 提示用户哪些参数不合法
为了让我们的应用更加友好，我们还可以添加一个--help参数，告知用户有哪些合法的参数以及每个参数的意义。这个功能可以通过第三方库 command-line-usage 来完成。